{
  "schemaVersion": 2,
  "dockerfileLines": [
    "FROM node:20-alpine",
    "RUN apk update && apk upgrade && apk add --no-cache git",
    "RUN mkdir -p /usr/src/app",
    "WORKDIR /usr/src/app",
    "COPY ./package*.json /usr/src/app/",
    "RUN npm install",
    "COPY . /usr/src/app/",
    "RUN npm run build",
    "RUN npm prune --production",
    "EXPOSE 80",
    "CMD [\"npm\", \"start\"]"
  ]
}